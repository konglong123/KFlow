<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="../../../Scripts/easyUI/themes/gray/easyui.css" />
    <link rel="stylesheet" type="text/css" href="../../Scripts/easyUI/themes/icon.css" />
    <script src="../../../Scripts/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="../../../Scripts/easyUI/jquery.easyui.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="../../../Scripts/easyUI/locale/easyui-lang-zh_CN.js"></script>
    <script src="../../../Scripts/QueryString.js" type="text/javascript"></script>
</head>
<body>
<div style="float:left ">
    <label>开始时间：</label>
    <input id="bookStartTime" type="text" class="easyui-datetimebox" required="required">
</div>
<div style="float:left ">
    <label>结束时间：</label>
    <input id="bookEndTime" type="text" class="easyui-datetimebox" required="required">
</div>
<div style="float:left ">
    <input id="btnBook" type="button" value="预定">
</div>
<script>
    $(function(){

        $('#btnBook').click(function () {
            var nodeId=GetQueryString("nodeId");
            var resourceNo=GetQueryString("resourceNo");
            var startTime=$('#bookStartTime').datetimebox('getValue');
            var endTime=$('#bookEndTime').datetimebox('getValue');
            debugger
            if (startTime==null||startTime==""||endTime==null||endTime=="")
                return;
            $.ajax({
                url: "/WF/resource/bookResource",
                type: 'POST',
                data: {
                    nodeId:nodeId,
                    resourceNo:resourceNo,
                    startTime:startTime,
                    endTime:endTime
                },
                success: function (data) {
                    alert("预定成功！");
                },
                error: function (data) {
                    console.log("error："+data);
                }
            });
        });

    })
</script>
</body>
</html>